# 第三节 函数的单调性与极值

::: details Tables of Content

[[toc]]

:::

## I. 函数的单调性

设函数$y = f(x)$在$\left[ a, b \right]$上连续、在$(a, b)$内可导，则：

1. 若在$(a, b)$内$f'(x) \geq 0$，且等号仅在有限多个点处成立，那么函数$y = f(x)$在$\left[ a , b \right]$上单调递增
2. 若在$(a, b)$内$f'(x) \leq 0$，且等号仅在有限多个点处成立，那么函数$y = f(x)$在$\left[ a , b \right]$上单调递减

::: tip Tip

原理很好理解，导数表现的是函数在某点处的瞬时变化率，也就代表一点处的导数大于零时它在这个瞬间是在变大的，反之则是变小的；所以说如果一个函数的导数在一个区间内始终大于等于零，且只有有限个点是等于零的（因为如果每个点都等于零就说明这个函数的值在此区间内恒等于一个常数），就可以证明这个函数在这个区间内为单调递增，反之则为单调递减

:::

- **例1**：判断函数$f(x) = (1 + \dfrac{1}{x})^x$在区间$(0, +\infty)$上的单调性。

    ::: details Answer

    直接开导：
    $$
    \begin{gather}
    f'(x) = \left[ (1 + \frac{1}{x})^x \right]' = (e^{x \ln (1 + \frac{1}{x})})' \\
    = e^{x \ln (1 + \frac{1}{x})} \cdot \left[ \ln (1 + \frac{1}{x}) - \frac{x \cdot x^{-2}}{1 + \frac{1}{x}} \right] \\
    = (1 + \frac{1}{x})^x \left[ \ln (1 + \frac{1}{x}) - \frac{1}{x + 1} \right] 
    \end{gather}
    $$
    又因为：
    $$
    \frac{x}{1 + x} \lt \ln (1 + x) \lt x
    $$
    所以：
    $$
    \frac{1}{1 + x} \lt \ln (1 + \frac{1}{x}) \lt \frac{1}{x}
    $$
    所以当$x \gt 0$时，$f'(x) \gt 0$，$f(x)$在$(0, +\infty)$上单调递增

    :::

- **例2**：设$f(x)$是可导函数，且满足$f(x) f'(x) \gt 0$，则\_\_\_\_\_.

    - （A）$f(1) \gt f(-1)$
    - （B）$f(1) \lt f(-1)$
    - （C）$\left| f(1) \right| \gt \left| f(-1) \right|$
    - （D）$\left| f(1) \right| \lt \left| f(-1) \right|$

    ::: details Answer

    > 设$F(x) = f^2(x)$，则$F'(x) = 2f(x)f'(x) \gt 0$

    所以：
    $$
    \left[ F(1) = f^2(1) \right] \gt \left[ F(-1) = f^2(-1) \right]
    $$
    所以：
    $$
    \left| f(1) \right| \gt \left| f(-1) \right|
    $$
    :::

## II. 函数的极值与求法

### 2.1 极值的定义

设函数$f(x)$在点$x_0$处的某邻域$U(x_0, \delta)$内有定义，如果对去心邻域$U^*(x_0, \delta)$内的任一$x$有：
$$
f(x) \lt f(x_0) \text{ 或 } f(x) \gt f(x_0)
$$
则称$f(x_0)$是函数$f(x)$的一个极大值（或极小值）

### 2.2 极值的必要条件与充要条件

- **必要条件**：若函数$f(x)$在$x_0$处可导，且在$x_0$处取得极值，则$f'(x_0) = 0$
- **第一充分条件**：设函数$f(x)$在$x_0$处连续，在$U^*(x_0, \delta)$内可导
    1. 若在$x_0$的左侧邻域内$f'(x) \gt 0$，右侧邻域内$f'(x) \lt 0$，则$f(x_0)$为极大值
    2. 若在$x_0$的左侧邻域内$f'(x) \lt 0$，右侧邻域内$f'(x) \gt 0$，则$f(x_0)$为极小值
- **第二充分条件**：设函数$f(x)$在点$x_0$处二阶可导，且$f'(x_0) = 0$，$f''(x_0) \neq 0$
    1. 若$f''(x_0) \lt 0$，则$f(x_0)$为极大值
    2. 若$f''(x_0) \gt 0$，则$f(x_0)$为极小值

::: tip Tip

- **关于必要条件**：

    设函数$f(x)$在点$x_0$处取极值，且在$x_0$处可导，则根据导数的定义可知：
    $$
    f'(x_0) = \lim_{\Delta x \to 0^+} \frac{f(x_0 + \Delta x) - f(x_0)}{\Delta x} = \lim_{\Delta x \to 0^-} \frac{f(x_0 + \Delta x) - f(x_0)}{\Delta x}
    $$
    因为$f(x)$在$x_0$处取得极值，所以对于足够小的$\Delta x$，$f(x_0 + \Delta x) - f(x_0)$要么总是小于等于零（当$f(x_0)$为极大值），要么总是大于等于零（当$f(x_0)$为极小值）

    然而，对于分母，$\Delta x$在$\Delta x \to 0^+$时为正数，而在$\Delta x \to 0^-$时为负数。这意味着，若$f(x_0)$为极大值，则右导数为非正、左导数为非负；若$f(x_0)$为极小值，则右导数为非负、左导数为非正。因此，左右导数相等且符号对立，这意味着左右导数皆为零，即：
    $$
    f'(x_0) = 0
    $$

- **关于第一充分条件**：

    显然，若在$x_0$的左侧邻域内$f'(x) \gt 0$、而在右侧邻域内$f'(x) \lt 0$，则说明此函数在$x_0$的左侧递增、右侧递减。这表明$f(x_0)$必然是一个极大值，因为在点$x_0$两侧的函数值都小于$f(x_0)$

    反之，若在$x_0$的左侧邻域内$f'(x) \lt 0$、而在右侧邻域内$f'(x) \gt 0$，则说明此函数在$x_0$的左侧递减、右侧递增。这表明$f(x_0)$必然是一个极小值，因为在点$x_0$两侧的函数值都大于$f(x_0)$

- **关于第二充分条件**：

  - 为什么需要 $ f''(x_0) \neq 0 $ 这个条件？
  
      需要 $ f''(x_0) \neq 0 $ 是因为在 $ f'(x_0) = 0 $ 时，若 $ f''(x_0) = 0 $，则不能确定 $ f(x_0) $ 是否为极值。假设 $ f'(x_0) = 0 $，若在点 $ x_0 $ 的去心邻域 $ U^*(x_0, \delta) $ 内，$ f'(x) $ 始终大于零或小于零，说明函数在该邻域内是单调递增或单调递减的，这样就不符合极值的定义。因此，要求 $ f''(x_0) \neq 0 $，以确保 $ f'(x) $ 在 $ x_0 $ 处存在变化，能够有效区分极值的性质
  
  - 为什么 $ f''(x_0) $ 的正负性会影响 $ f(x_0) $ 取极大值还是极小值？
  
      1. 若$ f''(x_0) < 0 $：
  
          $ f''(x_0) < 0 $ 表示在 $ x_0 $ 处，函数的导数 $ f'(x) $ 由增变为减，即函数在 $ x_0 $ 处的切线斜率发生了从正到负的变化。由于 $ f'(x_0) = 0 $，在 $ x_0 $ 的去心邻域 $ U^*(x_0, \delta) $ 内，右侧的任一邻域点 $ x > x_0 $ 处，导数 $ f'(x) $ 都是负值，说明函数在该区间上是递减的；左侧邻域则是递增的。这样，函数在 $ x_0 $ 处达到极大值
  
      2. 若$ f''(x_0) > 0 $：
  
          $ f''(x_0) > 0 $ 表示在 $ x_0 $ 处，函数的导数 $ f'(x) $ 由减变为增，即函数的切线斜率从负变为正。由于 $ f'(x_0) = 0 $，在 $ x_0 $ 的去心邻域 $ U^*(x_0, \delta) $ 内，右侧的任一邻域点 $ x > x_0 $ 处，导数 $ f'(x) $ 都是正值，说明函数在该区间上是递增的；左侧邻域则是递减的。这样，函数在 $ x_0 $ 处达到极小值

:::

- **例3**：已知函数：
    $$
    f(x) =
    \begin{cases}
    x^{2x}, & x \gt 0 \\
    xe^x + 1, & x \leq 0
    \end{cases}
    $$
    求$f'(x)$，并求出$f(x)$的极值。
    ::: details Answer
    
    因为：
    $$
    \left[ \lim_{\Delta x \to 0^+} \frac{f(\Delta x) - f(0)}{\Delta x} = -\infty \right] \neq \left[ \lim_{\Delta x \to 0^-} \frac{f(\Delta x) - f(0)}{\Delta x} = 1 \right]
    $$
    所以$f'(0)$不存在，所以$f(x)$的导数为：
    $$
    f'(x) =
    \begin{cases}
    2x^{2x} (\ln x + 1), & x \gt 0 \\
    e^x (x + 1), & x \lt 0
    \end{cases}
    $$
    然后找出使得$f'(x) = 0$的$x$的取值：
    $$
    f'(x) = 0 \Rightarrow x = -1, \frac{1}{e}
    $$
    然后计算$f''(-1)$以确保此处为极值：
    $$
    f''(x)|_{x = -1} = \left[ e^x (x + 1) + e^x \right]_{x = -1} = \frac{1}{e} \gt 0
    $$
    然后计算$f''(e^{-1})$以确保此处为极值：
    $$
    f''(x)|_{x = e^{-1}} = \left[ 4x^{2x} (\ln x + 1)^2 + 2x^{2x - 1} \right]_{x = e^{-1}} = 2e^{-2e^{-1} + 1} \gt 0
    $$
    
    
    所以$f(-1) = -e^{-1} - 1$和$f(e^{-1}) = e^{-2e^{-1}}$为$f(x)$的极小值；另外，当$0 \lt x \lt 1$时$f'(x) \lt 0$；当$x \lt 0$时$f'(x) \gt 0$，说明在$x = 0$处函数值是左增右减，所以$f(0) = 1$是$f(x)$的极大值
    
    :::
    
- **例4**：设函数$f(x)$、$g(x)$具有二阶导数，且$g''(x) \lt 0$，若$g(x_0) = a$是$g(x)$的极值，则$f\left[ g(x) \right]$在$x_0$处取得极大值的一个充分条件是\_\_\_\_\_.

    - （A）$f'(a) \lt 0$
    - （B）$f'(a) \gt 0$
    - （C）$f''(a) \lt 0$
    - （D）$f''(a) \gt 0$
    
    ::: details Answer
    
    > 设函数$h(x) = f\left[ g(x) \right]$，则$h'(x) = f'\left[ g(x) \right] g'(x)$、$h''(x) = f''\left[ g(x) \right] \cdot \left[ g'(x) \right]^2 + f'\left[ g(x) \right] g''(x)$
    
    因为$g(x)$在$x_0$处取得极值，所以：
    $$
    g'(x_0) = 0
    $$
    因为$h(x)$在$x_0$要取得极大值，所以：
    $$
    h'(x_0) = f'(a) \cdot 0 = 0
    $$
    因为$h(x)$在$x_0$要取得极大值，所以：
    $$
    h''(x_0) = f''(a) \cdot 0^2 + f'(a) g''(x) = f'(a) g''(x_0) \lt 0
    $$
    又因为$g''(x_0)$，所以若要$f'(a) g''(x_0) \lt 0$，则$f'(a) \gt 0$，最终选B
    
    :::

## III. 函数的最值

最值，顾名思义，即函数$f(x)$在$\left[ a , b \right]$上的最大值或最小值，计算步骤如下：

1. 求出$f(x)$在$(a, b)$内的驻点[^1]和不可导点
2. 计算$f(x)$在上述的驻点和不可导点以及$a$、$b$两点处的函数值
3. 比较上述诸值的大小，最大的即为最大值，最小的即为最小值

- **例5**：求函数$f(x) = \left| x^2 - 3x + 2 \right|$在$\left[ -3, 4 \right]$上的最大值与最小值。

    ::: details Answer

    首先求解方程：
    $$
    x^2 -3x + 2 = 0
    $$
    解得：
    $$
    x_1 = 1 ,\, x_2 = 2 \\
    $$
    然后将$f(x)$写成分段函数的形式：
    $$
    f(x) =
    \begin{cases}
    x^2 - 3x + 2, & 2 \leq x \lt +\infty \\
    -x^2 + 3x - 2, & 1 \lt x \lt 2 \\
    x^2 - 3x + 2, & -\infty \lt x \leq 1
    \end{cases}
    $$
    - 对于$x = 1$：

        其左导数为：
        $$
        f'_-(1) = 2 - 3 = -1 \\
        $$
        其右导数为：
        $$
        f'_+(1) = -2 + 3 = 1
        $$
        所以$f(x)$在$x = 1$处不可导

    - 对于$x = 2$：

        其左导数为：
        $$
        f'_-(2) = -4 + 3 = -1
        $$
        其右导数为：
        $$
        f'_+(2) = 4 - 3 = 1
        $$
        所以$f(x)$在$x = 2$处不可导

    所以$f(x)$的导数$f'(x)$为：
    $$
    f'(x) =
    \begin{cases}
    2x - 3, & 2 \lt x \lt +\infty \\
    -2x + 3, & 1 \lt x \lt 2 \\
    2x - 3, & -\infty \lt x \lt 1
    \end{cases}
    $$
    接下来求出在$(-3, 4)$内使得$f'(x) = 0$的点：
    $$
    x_1 = \frac{3}{2}
    $$
    接下来对于驻点$x = \dfrac{3}{2}$、端点$x = -3,4$、不可导点$x = 1,2$，分别求出函数值：
    $$
    \begin{gather}
    f(\frac{3}{2}) = -\frac{9}{4} + \frac{18}{4} - \frac{8}{4} = \frac{1}{4} \\
    f(-3) = 9 + 9 + 2 = 20 \\
    f(4) = 16 - 12 + 2 = 6 \\
    f(1) = 1 - 3 + 2 = 0 \\
    f(2) = 4 - 6 + 2 = 0 \\
    \end{gather}
    $$
    所以，函数$f(x)$在$\left[ -3, 4 \right]$上的最大值为20、最小值为0

    :::

- **例6**：若要造一圆柱形油罐，其体积为$V$，试问：当底半径$r$与高$h$等于多少时，使得表面积最小？且此时底直径与高的比是多少？

[^1]:即导数为零的点
